---
title: OSI 模型
date: 2024-04-09T22:14:00+08:00
draft: false
tags:
    - 笔记
    - 网络
summary: OSI 七层模型的学习笔记
---

## 术语

### 节点

节点是连接到网络的物理电子设备，例如计算机、打印机、路由器。
如果正确设置，节点能够通过网络发送和/或接收信息。

### 链路

链路连接网络上的节点。链路可以是有线的，如以太网，也可以是无线的，如 Wi-Fi。
链路可以是点对点的，其中节点 A 连接到节点 B，也可以是多点的，其中节点 A 连接到节点 B 和节点 C。

### 拓扑结构

拓扑结构描述了节点和链路如何在网络配置中相互配合，通常在图表中显示。以下是一些常见的网络拓扑结构类型：

![网络拓扑结构类型](/img/network-topology-types.jpg)

## OSI 模型：7 层

### 第 1 层：物理层

第 1 层包含使网络通信成为可能的基础设施。

**第 1 层的技术：**

- 节点（设备）和网络硬件组件。
- 设备接口机制。
    > 电缆连接到设备的位置和方式是怎样的（电缆连接器和设备插座）？连接器的尺寸和形状是什么样的，有多少个引脚？什么决定了引脚何时处于活动状态或非活动状态？
- 功能和过程逻辑。
    > 连接器中每个引脚的功能是什么 - 发送还是接收？什么过程逻辑决定了节点如何开始与第 2 层上的另一个节点进行通信的事件顺序？
- 电缆协议和规范：以太网（CAT）、USB、DSL 等。
- 电缆类型、信号类型、信号传输方法（有线或无线）。

**第 1 层的数据单位：比特。** 节点可以发送、接收或发送和接收比特。如果它们只能执行一项任务，则节点使用 **单工模式**。如果它们都能执行，则节点使用 **双工模式**。如果节点可以同时发送和接收，则为 **全双工** - 否则为 **半双工**。

### 第 2 层：数据链路层

第 2 层定义了数据格式化传输的方式，节点之间可以流动多少数据，以及在检测到流中的错误时应采取什么措施。

- 线路规范。
    > 谁应该谈话多长时间？节点能够传输信息的时间有多长？
- 流量控制。
    > 应该传输多少数据？
- 错误控制。
    > 检测和纠正。所有数据传输方法都存在潜在的错误，从电气脉冲到脏的连接器。一旦第 2 层技术告知网络管理员第 2 层或第 1 层存在问题，系统管理员就可以在后续层中纠正这些错误。第 2 层主要关注错误检测，而不是错误纠正。

第 2 层内部有 2 个不同的子层：

- MAC（媒体访问控制）
    > 这就是 MAC 地址的来源。MAC 地址是网络上每个设备的唯一标识符。
- LLC（逻辑链路控制）
    > LLC 子层处理帧定址和流量控制。速度取决于节点之间的链接，例如以太网或 Wi-Fi。

**第 2 层的数据单位：帧。** 每个帧包含帧头、主体和帧尾：

- **头部**：通常包括源节点和目标节点的 MAC 地址。
- **主体**：包含正在传输的比特。
- **尾部**：包括错误检测信息。CRC（循环冗余检查）、FCS（帧检查序列）等。

通常有一个最大帧大小限制，称为最大传输单元（MTU）。

### 第 3 层：网络层

网络层允许节点连接到互联网，并在不同网络之间发送信息。路由器是第 3 层的主要组成部分。它们在路由表中存储所有这些地址和路由信息。

**第 3 层的数据单位：数据包。** 通常，每个数据包包含一个帧+IP 地址。

一旦节点连接到互联网，它将被分配一个 IP（互联网协议）地址，路由器使用 IP 地址在其路由表中进行路由。
IP 地址通过 ARP（地址解析协议）与物理节点的 MAC 地址关联，ARP 解析节点相应的 IP 地址的 MAC 地址。

### 第 4 层：传输层

传输层通过将消息分段成多个数据包来提供端到端的传输；该层支持面向连接和无连接的通信。

#### 协议

- TCP：传输控制协议，面向连接的协议，优先考虑数据质量而不是速度。
- UDP：用户数据报协议，无连接的协议，优先考虑速度而不是数据质量。UDP 不需要握手，这就是为什么它被称为无连接的原因。

TCP 和 UDP 都将数据发送到网络设备上的特定端口，该设备具有 IP 地址。
IP 地址和端口号的组合称为套接字。

### 第 5 层：会话层

会话层在两个端用户应用程序之间建立、维护和终止连接。它响应来自表示层的请求，并向传输层发出请求。

**2 个重要的概念：**

- C/S 模型（客户端/服务器）
- 请求/响应模型

**协议：**

- NetBIOS
- RPC（远程过程调用）

从这里开始（第 5 层及以上），网络关注的是连接到端用户应用程序的方式以及向用户显示数据。

### 第 6 层：表示层

表示层格式化和加密数据。

- 格式：ASCII、Unicode 等。
- 加密：SSL/TLS 等。

### 第 7 层：应用层

应用层拥有端用户应用程序所需的服务和功能。它不包括应用程序本身。

**协议：**

- HTTP（超文本传输协议）
- FTP（文件传输协议）
- SMTP（简单邮件传输协议）
- SSH（安全外壳）
- IMAP（互联网消息访问协议）
- DNS（域名系统）
- NTP（网络时间协议）
- 等等...
